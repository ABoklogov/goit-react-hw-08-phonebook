{"version":3,"sources":["redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","services/contacts-api.js","components/AuthNav/AuthNav.module.css","redux/contacts/contacts-action.js","components/UserMenu/UserMenu.module.css","components/App/App.module.css","components/Container/Container.module.css","components/AppBar/AppBar.module.css","components/Container/Container.js","components/UserMenu/UserMenu.js","images/defaultAva.png","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PrivateRoute/PrivateRoute.js","components/PublicRoute/PublicRoute.js","components/App/App.js","redux/contacts/contacts-reducer.js","redux/store.js","index.js"],"names":["token","axios","defaults","headers","common","Authorization","register","createAsyncThunk","credentials","a","rejectWithValue","API","registerUser","undefined","data","Error","message","logIn","logInUser","logOut","logOutUser","fetchCurrentUser","_","thunkAPI","state","getState","persistedToken","auth","operations","authSelectors","getIsLoggedIn","isLoggedIn","getUseremail","user","email","getIsRefreshingUser","isRefreshingUser","getError","error","authSlice","createSlice","name","initialState","extraReducers","authOperations","fulfilled","payload","rejected","pending","post","get","contact","contactsId","delete","baseURL","fetchContacts","postContacts","deleteContacts","module","exports","fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","setContacts","chengeFilter","e","target","value","Container","children","className","s","UserMenu","dispatch","useDispatch","useSelector","container","src","alt","width","avatar","Button","type","onClick","AuthNav","to","exact","link","activeClassName","activelink","AppBar","header","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","RegisterView","lazy","LoginView","PhonebookView","App","useEffect","Spinner","animation","fallback","path","items","createReducer","filter","id","isLoading","isChangeListContacts","contactsReducer","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.b6af78a8.chunk.js","sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport API from 'services/contacts-api';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = createAsyncThunk(\n  'auth/register',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await API.registerUser(credentials);\n\n      if (data === undefined) {\n        throw new Error('Server Error!');\n      }\n\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst logIn = createAsyncThunk(\n  'auth/login',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await API.logInUser(credentials);\n\n      if (data === undefined) {\n        throw new Error('Server Error!');\n      }\n\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await API.logOutUser();\n\n    token.unset();\n  } catch (error) {\n    return error.message;\n  }\n});\n\nconst fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await API.fetchCurrentUser();\n\n      if (data === undefined) {\n        throw new Error('Server Error!');\n      }\n\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  },\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\nconst getUseremail = state => state.auth.user.email;\nconst getIsRefreshingUser = state => state.auth.isRefreshingUser;\nconst getError = state => state.auth.error;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUseremail,\n  getIsRefreshingUser,\n  getError,\n};\nexport default authSelectors;\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isRefreshingUser: false,\n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    },\n    [authOperations.register.rejected](state, { payload }) {\n      state.error = payload;\n    },\n\n    [authOperations.logIn.fulfilled](state, { payload }) {\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    },\n    [authOperations.logIn.rejected](state, { payload }) {\n      state.error = payload;\n    },\n\n    [authOperations.logOut.fulfilled](state) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n    },\n\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isRefreshingUser = true;\n    },\n\n    [authOperations.fetchCurrentUser.fulfilled](state, { payload }) {\n      state.user = payload;\n      state.isLoggedIn = true;\n      state.isRefreshingUser = false;\n      state.error = null;\n    },\n    [authOperations.fetchCurrentUser.rejected](state, { payload }) {\n      state.isRefreshingUser = false;\n      state.error = payload;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nasync function registerUser(credentials) {\n  const data = await axios.post('/users/signup', credentials);\n  return data;\n}\n\nasync function logInUser(credentials) {\n  const data = await axios.post('/users/login', credentials);\n  return data;\n}\n\nasync function logOutUser() {\n  axios.post('/users/logout');\n}\n\nasync function fetchCurrentUser() {\n  const data = await axios.get('/users/current');\n  return data;\n}\n\nasync function fetchContacts() {\n  const data = await axios.get('/contacts');\n  return data;\n}\n\nasync function postContacts(contact) {\n  const data = await axios.post('/contacts', contact);\n  return data;\n}\n\nasync function deleteContacts(contactsId) {\n  await axios.delete(`/contacts/${contactsId}`);\n}\n\nconst API = {\n  registerUser,\n  logInUser,\n  logOutUser,\n  fetchCurrentUser,\n  fetchContacts,\n  postContacts,\n  deleteContacts,\n};\nexport default API;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__1V20K\",\"activelink\":\"AuthNav_activelink__Msm5x\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactRequest = createAction('contact/fetchContactRequest');\nexport const fetchContactSuccess = createAction('contact/fetchContactSuccess');\nexport const fetchContactError = createAction('contact/fetchContactError');\n\nexport const addContactRequest = createAction('contact/addContactRequest');\nexport const addContactSuccess = createAction('contact/addContactSuccess');\nexport const addContactError = createAction('contact/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contact/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contact/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contact/deleteContactError');\n\nexport const setContacts = createAction('contacts/Set');\n\nexport const chengeFilter = createAction('contacts/Filter', e => ({\n  payload: e.target.value,\n}));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__s_GGj\",\"avatar\":\"UserMenu_avatar__1Y0Jw\",\"name\":\"UserMenu_name__1QjDF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"App_Spinner__3uRX5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__2yVBY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__3LZ5A\"};","import s from './Container.module.css';\nimport PropTypes from 'prop-types';\n\nconst Container = ({ children }) => {\n  return <div className={s.Container}>{children}</div>;\n};\n\nContainer.propTypes = {\n  children: PropTypes.array,\n};\nexport default Container;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { authSelectors, authOperations } from 'redux/auth';\nimport { Button } from 'react-bootstrap';\nimport defaultAvatar from 'images/defaultAva.png';\nimport s from './UserMenu.module.css';\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const email = useSelector(authSelectors.getUseremail);\n\n  return (\n    <div className={s.container}>\n      <img src={defaultAvatar} alt=\"\" width=\"32\" className={s.avatar} />\n      <span className={s.name}>{email}</span>\n      <Button\n        type=\"button\"\n        onClick={() => {\n          dispatch(authOperations.logOut());\n        }}\n      >\n        Log off\n      </Button>\n    </div>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAG1BMVEW1tbW4uLi8vLzGxsbS0tLc3Nzs7Oz4+Pj////b1d6+AAADDUlEQVRo3u3aTW8TQQwG4Hfox3lcSrmmIiHXConSY4hAzbGkVM2R0gM5hxbtvd1MfzYHKshmxzO2dwNF2vkBj3a8Hu/YCR7aW+iszuqs/8n6cfH5w8eLby1Yt+NDAMBe/7KhFc57oF8L7m3RxApjOPq9sD+3W8v3KxIR+edzqxU+VSkiv18Yrek6ReQHNusGVF84tVjhiGLr2dxgfXVRy7/WW8sexZebqa0rx1j+hdZiH4vIzZXWwrEWGzGoXuLjqyxUVukSlp+orCtKrR2NFXpJa69QWMktspuMWwtKrwOFNcpYW3IrEy4imoutTLi4gEGZ9I/rpdg6y1HxDIMl9ERbhdAKh1mLpNYyGy7yM6FVCqyJ0LoTWEOhlU8JojatXaH1JU9FEwymVH261nZnbST2bebXVYvWQmAdtHcexXWizZrTZi1ss0bnP9vyb0eb3zRBgu20eAcY/pO7ST74hfwud2aoOOwd0xmuTH/h7ptsO9jGw9QrHLTYw8x0fdpIe4CMPd9Q2T8m0pVr+fgemX0wvnlnLfbB+KECP1P47nTRSs46RqqXmJ7BlD42BLi0zYau6wMdf2ydf9UGTX5gnVk9hOmalaTS1u2bNevVpdEK5762x+T8MZET0+gsbWDIiTBGNL/QL7RWGLPnsa8822GaqDkDXf26RqIW4lhj3fpkvWcOEgyfIe6AQziklYxso3dMZO9MEN4Lw0hwJ98uRNaNoEUmfyqxsoFnww9pna892Lu8JXys2IPBFK14xKC/j7OXQ+j7F/a6A0PvyF3DoG9f2EvKmnXvFNb6tRX6tp3tZGDfYm2TsG+xtkmY32L9TcJ0fuLnCMZEjaUrtMO9qnXCWmekXbusdaS2tjhrSfo1Z6x7p6YqGQblTCjVxKNR6KtHEo1CXw3+ihUMFLkiapXOYK1mPlRjr3Tmo9lrrLxI2AtOreygWUpUkgKWryzzxYW9ENbKIVS/CqV/10SjKlGtFH+s0mjNYpYzUX7T1r3RmmzYujNaJzELthWzygvbmsn/g6RYndVZnfV0rJ/xkS0+gAgoxQAAAABJRU5ErkJggg==\"","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './AuthNav.module.css';\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        className={s.link}\n        activeClassName={s.activelink}\n      >\n        Register\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        className={s.link}\n        activeClassName={s.activelink}\n      >\n        Login\n      </NavLink>\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport s from './AppBar.module.css';\nimport { authSelectors } from 'redux/auth';\nimport UserMenu from 'components/UserMenu';\nimport AuthNav from 'components/AuthNav';\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <header className={s.header}>\n      {!isLoggedIn ? <AuthNav /> : <UserMenu />}\n    </header>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { authSelectors } from 'redux/auth';\nimport PropTypes from 'prop-types';\n\nconst PrivateRoute = ({ children, redirectTo = '/login', ...routeProps }) => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n};\n\nPrivateRoute.propTypes = {\n  children: PropTypes.object.isRequired,\n  redirectTo: PropTypes.string,\n};\n\nexport default PrivateRoute;\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { authSelectors } from 'redux/auth';\nimport PropTypes from 'prop-types';\n\nconst PublicRoute = ({\n  children,\n  restricted = false,\n  redirectTo = '/contacts',\n  ...routeProps\n}) => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n};\n\nPublicRoute.propTypes = {\n  children: PropTypes.object.isRequired,\n  redirectTo: PropTypes.string,\n  restricted: PropTypes.bool,\n};\n\nexport default PublicRoute;\n","import { Switch } from 'react-router-dom';\nimport { useEffect, Suspense, lazy } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authOperations, authSelectors } from 'redux/auth';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport s from './App.module.css';\nimport { Spinner } from 'react-bootstrap';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Container from 'components/Container';\nimport AppBar from 'components/AppBar';\nimport PrivateRoute from 'components/PrivateRoute';\nimport PublicRoute from 'components/PublicRoute';\n\nconst RegisterView = lazy(() => import('views/RegisterView'));\nconst LoginView = lazy(() => import('views/LoginView'));\nconst PhonebookView = lazy(() => import('views/PhonebookView'));\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const isRefreshingUser = useSelector(authSelectors.getIsRefreshingUser);\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      {isRefreshingUser ? (\n        <Spinner className={s.Spinner} animation=\"border\" />\n      ) : (\n        <>\n          <AppBar />\n\n          <Switch>\n            <Suspense\n              fallback={<Spinner className={s.Spinner} animation=\"border\" />}\n            >\n              <PublicRoute\n                exact\n                path=\"/goit-react-hw-08-phonebook\"\n                redirectTo=\"/register\"\n                restricted\n              >\n                <RegisterView />\n              </PublicRoute>\n\n              <PublicRoute path=\"/register\" restricted>\n                <RegisterView />\n              </PublicRoute>\n\n              <PublicRoute path=\"/login\" restricted>\n                <LoginView />\n              </PublicRoute>\n\n              <PrivateRoute path=\"/contacts\">\n                <PhonebookView />\n              </PrivateRoute>\n            </Suspense>\n          </Switch>\n        </>\n      )}\n      <ToastContainer />\n    </Container>\n  );\n};\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  fetchContactRequest,\n  fetchContactSuccess,\n  fetchContactError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  setContacts,\n  chengeFilter,\n} from './contacts-action';\n\nconst items = createReducer([], {\n  [fetchContactSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter(contact => contact.id !== payload),\n\n  [setContacts]: (_, { payload }) => [...payload],\n});\n\nconst filter = createReducer('', {\n  [chengeFilter]: (_, { payload }) => payload,\n});\n\nconst isLoading = createReducer(false, {\n  [fetchContactRequest]: () => true,\n  [fetchContactSuccess]: () => false,\n  [fetchContactError]: () => false,\n\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst error = createReducer(null, {\n  [fetchContactError]: (_, { payload }) => payload,\n  [fetchContactRequest]: () => null,\n  [fetchContactSuccess]: () => null,\n\n  [addContactError]: (_, { payload }) => payload,\n  [addContactRequest]: () => null,\n  [addContactSuccess]: () => null,\n\n  [deleteContactError]: (_, { payload }) => payload,\n  [deleteContactRequest]: () => null,\n  [deleteContactSuccess]: () => null,\n});\n\nconst isChangeListContacts = createReducer(false, {\n  [addContactRequest]: () => false,\n  [addContactSuccess]: () => true,\n  [addContactError]: () => false,\n\n  [deleteContactRequest]: () => false,\n  [deleteContactSuccess]: () => true,\n  [deleteContactError]: () => false,\n});\n\nconst contactsReducer = combineReducers({\n  items,\n  filter,\n  isLoading,\n  error,\n  isChangeListContacts,\n});\n\nexport default contactsReducer;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport contactsReducer from './contacts/contacts-reducer';\nimport { authReducer } from './auth';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport './index.css';\nimport App from './components/App';\nimport { store, persistor } from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}