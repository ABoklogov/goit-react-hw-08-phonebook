{"version":3,"sources":["components/ContactList/ContactItem/ContactItem.module.css","views/PhonebookView/PhonebookView.module.css","redux/contacts/contacts-selector.js","redux/contacts/contacts-operation.js","components/ContactForm/ContactForm.js","components/Filter/Filter.js","components/ContactList/ContactItem/ContactItem.js","components/ContactList/ContactList.js","views/PhonebookView/PhonebookView.js","components/ContactForm/ContactForm.module.css","components/Filter/Filter.module.css","components/ContactList/ContactList.module.css"],"names":["module","exports","getContacts","state","contacts","items","getFilter","filter","getLoading","isLoading","getError","error","getChangeListContacts","isChangeListContacts","getVisibleContacts","createSelector","normalizedFilter","toLowerCase","contact","name","includes","fetchContacts","dispatch","a","fetchContactRequest","API","data","fetchContactSuccess","fetchContactError","message","postContact","addContactRequest","postContacts","addContactSuccess","addContactError","deletContacts","id","deleteContactRequest","deleteContacts","deleteContactSuccess","deleteContactError","ContactForm","useState","setName","number","setNumber","useDispatch","useSelector","contactsSelectors","useEffect","toast","success","theme","handleNameChenge","e","target","value","className","s","form","onSubmit","preventDefault","newContact","some","el","warn","contactsOperation","text","input","type","onChange","pattern","title","required","Button","btn","Filter","sort","sortText","contactsAction","chengeFilter","ContactItem","contactName","contactNumber","contactBtn","onClick","deleteContact","ContactList","visibleContacts","contactList","map","PhonebookView","loading","_error","isLoggedIn","authSelectors","getIsLoggedIn","Spinner","animation"],"mappings":"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","file":"static/js/3.1230df53.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactName\":\"ContactItem_contactName__3ekQD\",\"contactNumber\":\"ContactItem_contactNumber__ldckE\",\"contactBtn\":\"ContactItem_contactBtn__xBenN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PhonebookView\":\"PhonebookView_PhonebookView__KwcqX\",\"Spinner\":\"PhonebookView_Spinner__aIAQV\"};","import { createSelector } from '@reduxjs/toolkit';\n\nexport const getContacts = state => state.contacts.items;\n\nexport const getFilter = state => state.contacts.filter;\n\nexport const getLoading = state => state.contacts.isLoading;\n\nexport const getError = state => state.contacts.error;\n\nexport const getChangeListContacts = state =>\n  state.contacts.isChangeListContacts;\n\nexport const getVisibleContacts = createSelector(\n  [getFilter, getContacts],\n  (filter, contacts) => {\n    const normalizedFilter = filter.toLowerCase();\n\n    return contacts?.filter(contact =>\n      contact.name.toLowerCase().includes(normalizedFilter),\n    );\n  },\n);\n","import API from 'services/contacts-api';\nimport {\n  fetchContactRequest,\n  fetchContactSuccess,\n  fetchContactError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n} from './contacts-action';\n\nexport const fetchContacts = () => async dispatch => {\n  dispatch(fetchContactRequest());\n  try {\n    const { data } = await API.fetchContacts();\n    dispatch(fetchContactSuccess(data));\n  } catch (error) {\n    dispatch(fetchContactError(error.message));\n  }\n};\n\nexport const postContact = contact => async dispatch => {\n  dispatch(addContactRequest());\n  try {\n    const { data } = await API.postContacts(contact);\n    dispatch(addContactSuccess(data));\n  } catch (error) {\n    dispatch(addContactError(error.message));\n  }\n};\n\nexport const deletContacts = id => async dispatch => {\n  dispatch(deleteContactRequest());\n  try {\n    await API.deleteContacts(id);\n    dispatch(deleteContactSuccess(id));\n  } catch (error) {\n    dispatch(deleteContactError(error.message));\n  }\n};\n","import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { contactsOperation, contactsSelectors } from 'redux/contacts';\nimport { Button } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport s from './ContactForm.module.css';\n\nconst ContactForm = () => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const dispatch = useDispatch();\n  const contacts = useSelector(contactsSelectors.getContacts);\n  const isChangeListContacts = useSelector(\n    contactsSelectors.getChangeListContacts,\n  );\n\n  useEffect(() => {\n    if (isChangeListContacts) {\n      toast.success(`Contact ${name} added`, { theme: 'colored' });\n    }\n  }, [isChangeListContacts, name]);\n\n  const handleNameChenge = e => {\n    const { name, value } = e.target;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'number':\n        setNumber(value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const newContact = {\n      name,\n      number,\n    };\n    const checkingContacts = el => el.name.toLowerCase() === name.toLowerCase();\n\n    if (contacts.some(checkingContacts)) {\n      toast.warn(`${name} is alreaby in contacts`, { theme: 'colored' });\n      return;\n    }\n    dispatch(contactsOperation.postContact(newContact));\n\n    setName('');\n    setNumber('');\n  };\n\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <p className={s.text}>Name</p>\n      <input\n        className={s.input}\n        type=\"text\"\n        name=\"name\"\n        value={name}\n        onChange={handleNameChenge}\n        pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n        title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n        required\n      />\n      <p className={s.text}>Number</p>\n      <input\n        className={s.input}\n        type=\"tel\"\n        name=\"number\"\n        value={number}\n        onChange={handleNameChenge}\n        pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n        title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n        required\n      />\n      <Button className={s.btn} type=\"submit\">\n        Add contact\n      </Button>\n    </form>\n  );\n};\n\nexport default ContactForm;\n","import { useSelector, useDispatch } from 'react-redux';\nimport { contactsAction, contactsSelectors } from '../../redux/contacts';\nimport s from './Filter.module.css';\n\nconst Filter = () => {\n  const filter = useSelector(contactsSelectors.getFilter);\n  const dispatch = useDispatch();\n\n  return (\n    <label className={s.sort}>\n      <span className={s.sortText}>Find contacts by name</span>\n      <input\n        type=\"text\"\n        name=\"filter\"\n        value={filter}\n        onChange={e => dispatch(contactsAction.chengeFilter(e))}\n      />\n    </label>\n  );\n};\n\nexport default Filter;\n","import { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { contactsOperation, contactsSelectors } from 'redux/contacts';\nimport { Button } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport s from './ContactItem.module.css';\n\nconst ContactItem = ({ id, name, number }) => {\n  const dispatch = useDispatch();\n  const isChangeListContacts = useSelector(\n    contactsSelectors.getChangeListContacts,\n  );\n\n  const deleteContact = id => {\n    dispatch(contactsOperation.deletContacts(id));\n\n    if (isChangeListContacts) {\n      toast.success(`Contact ${name} deleted`, { theme: 'colored' });\n    }\n  };\n\n  return (\n    <>\n      <p className={s.contactName}>{name}:</p>\n      <p className={s.contactNumber}>{number}</p>\n      <Button className={s.contactBtn} onClick={() => deleteContact(id)}>\n        delete\n      </Button>\n    </>\n  );\n};\n\nContactItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n};\n\nexport default ContactItem;\n","import { useSelector } from 'react-redux';\nimport { contactsSelectors } from 'redux/contacts';\nimport s from './ContactList.module.css';\nimport ContactItem from './ContactItem';\n\nconst ContactList = () => {\n  const visibleContacts = useSelector(contactsSelectors.getVisibleContacts);\n\n  return (\n    <ul className={s.contactList}>\n      {visibleContacts?.map(({ id, name, number }) => (\n        <li key={id} className={s.contact}>\n          <ContactItem id={id} name={name} number={number} />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default ContactList;\n","import { useSelector, useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { contactsSelectors, contactsOperation } from 'redux/contacts';\nimport { authSelectors } from 'redux/auth';\nimport { Spinner } from 'react-bootstrap';\nimport ContactForm from 'components/ContactForm';\nimport Filter from 'components/Filter';\nimport ContactList from 'components/ContactList';\nimport s from './PhonebookView.module.css';\nimport { toast } from 'react-toastify';\n\nconst PhonebookView = () => {\n  const loading = useSelector(contactsSelectors.getLoading);\n  const _error = useSelector(contactsSelectors.getError);\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      dispatch(contactsOperation.fetchContacts());\n    }\n  }, [dispatch, isLoggedIn]);\n\n  return (\n    <div className={s.PhonebookView}>\n      <h1>Phonebook</h1>\n      <ContactForm />\n      <h2>Contacts</h2>\n      <Filter />\n      {loading && <Spinner className={s.Spinner} animation=\"border\" />}\n      {!loading && <ContactList />}\n      {_error && toast.error(_error, { theme: 'colored' })}\n    </div>\n  );\n};\n\nexport default PhonebookView;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__2mGJf\",\"text\":\"ContactForm_text__3cWNK\",\"input\":\"ContactForm_input__1QVGn\",\"btn\":\"ContactForm_btn__1kNlg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sort\":\"Filter_sort__3jN0K\",\"sortText\":\"Filter_sortText__2jMkR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactList\":\"ContactList_contactList__1FbUO\",\"contact\":\"ContactList_contact__fmnke\"};"],"sourceRoot":""}